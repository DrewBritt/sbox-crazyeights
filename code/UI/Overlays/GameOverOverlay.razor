@using Sandbox;
@using Sandbox.UI;
@inherits Panel;
@attribute [StyleSheet("/UI/Overlays/GameOverOverlay.scss")]
@namespace CrazyEights.UI

<root>
    <image style="background-image: url(avatar:@Winner.PlayerId)"></image>
    <label>@Winner.Name has won the game!</label>
</root>

@code 
{
    private Client Winner { get; set; }

    protected override void OnAfterTreeRender(bool firstTime)
    {
        if (!firstTime) return;

        BindClass("active", () => activated < 5f);
    }

    TimeSince activated = 6f;
    public void Activate(Client winner)
    {
        Winner = winner;
        activated = 0f;
    }
}